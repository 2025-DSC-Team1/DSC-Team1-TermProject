<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>DSC 1íŒ€ í˜‘ì—… í…ìŠ¤íŠ¸ í¸ì§‘ê¸°</title>

    <!-- 0) ì „ì—­ ì—ëŸ¬ ë¦¬ìŠ¤ë„ˆë¡œ ì¤‘ë³µ ì •ì˜ ì—ëŸ¬ ë¬´ì‹œ -->
    <script>
      window.addEventListener('error', function(e) {
        if (e.message &&
                e.message.includes("A custom element with name 'mce-autosize-textarea'")) {
          console.warn("âš ï¸ ì¤‘ë³µ ì •ì˜ ì—ëŸ¬ ë¬´ì‹œ:", e.message);
          e.preventDefault();      // ë¸Œë¼ìš°ì € ê¸°ë³¸ ì—ëŸ¬ ì²˜ë¦¬ ì°¨ë‹¨
          return false;            // ì´ë²¤íŠ¸ ì „íŒŒ ì¤‘ë‹¨
        }
        // ê·¸ ì™¸ ì—ëŸ¬ëŠ” ê·¸ëŒ€ë¡œ
      });
    </script>

    <!-- 1) customElements.define guard (ê¸°ì¡´ì— ì‚½ì…í–ˆë˜ ì½”ë“œ) -->
    <script>
      (function() {
        const originalDefine = customElements.define;
        customElements.define = function(name, ctor, options) {
          if (customElements.get(name)) {
            console.warn(`âš ï¸ ì»¤ìŠ¤í…€ ì—˜ë¦¬ë¨¼íŠ¸ '${name}' ì´ë¯¸ ì •ì˜ë˜ì–´ ìŠ¤í‚µí•¨`);
            return;
          }
          return originalDefine.call(this, name, ctor, options);
        };
      })();
    </script>

    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <h1>í˜‘ì—… í…ìŠ¤íŠ¸ í¸ì§‘ê¸°</h1>
    <div id="userIdDisplay">
      ì‚¬ìš©ì: â€”
    </div>
    <div id="userListDisplay" class="user-list">
      ì—°ê²°ëœ ì‚¬ìš©ì: â€”
    </div>
    <div class="button-group">
      <button id="connect" onclick="connect()">ì—°ê²°</button>
      <button id="disconnect" onclick="disconnect()">ì—°ê²° í•´ì œ</button>
      <button id="saveFile" onclick="saveToServer()" disabled>ì„œë²„ì— ì €ì¥</button>
      <button id="loadFile" onclick="showLoadList()" disabled>ì„œë²„ì—ì„œ ë¶ˆëŸ¬ì˜¤ê¸°</button>
    </div>
    <div id="fileSelection" style="display: none; margin-top: 10px;">
      <label for="fileDropdown">ë¶ˆëŸ¬ì˜¬ íŒŒì¼ ì„ íƒ:</label>
      <select id="fileDropdown">
        <!-- JSì—ì„œ <option> ìš”ì†Œë“¤ì„ ë™ì ìœ¼ë¡œ ì¶”ê°€í•  ì˜ˆì • -->
      </select>
      <button id="confirmLoad" onclick="confirmLoad()">ë¶ˆëŸ¬ì˜¤ê¸°</button>
      <button onclick="hideLoadList()">ì·¨ì†Œ</button>
    </div>

    <div id="introduce">2025 DSC 1íŒ€</div>

    <div id="status" class="disconnected">ì—°ê²° ìƒíƒœ: ì—°ê²° ì•ˆë¨</div>

    <div id="editor" contenteditable="true"></div>

    <div id="log">
      <strong>ğŸ“¨ ë©”ì‹œì§€ ë¡œê·¸:</strong>
    </div>

    <script type="text/javascript" src="script.js"></script>
  </body>
</html>
