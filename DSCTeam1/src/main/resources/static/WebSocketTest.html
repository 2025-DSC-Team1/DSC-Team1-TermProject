<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>WebSocket Test</title>
</head>
<body>
<h2>WebSocket 테스트</h2>
<button onclick="connect()">Connect</button>
<button onclick="send()">Send</button>
<button onclick="disconnect()">Disconnect</button>

<script>
    let socket;

    function connect() {
        socket = new WebSocket("ws://localhost:8080/ws");

        socket.onopen = () => console.log("✅ 연결됨");

        socket.onmessage = (e) => {
            console.log("📩 서버 응답: " + e.data); // ✅ 여기서 메시지 출력!
        };

        socket.onclose = () => console.log("❌ 연결 종료");
    }

    function send() {
        if (socket && socket.readyState === WebSocket.OPEN) {
            socket.send("클라이언트에서 보낸 메시지");
        } else {
            console.log("⚠️ 연결 안 됨");
        }
    }

    function disconnect() {
        if (socket) socket.close();
    }
</script>

</body>
</html>
